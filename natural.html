<style>
  .cc-rv-stick4582762 {
    display: none;
    position: relative;
    left: -5px;
    top: 5px;
    padding-left: 10px;
    button {
      position: relative;
    }
    img {
      font-size: 20px;
      max-width: 25px;
      display: block;
      width: 25px;
    }
    .cc-recent-count {
      position: absolute;
      width: fit-content;
      height: 20px;
      background: #ea2e2b;
      color: #ffffff;
      font-size: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      line-height: 1;
      padding: 0 6px;
      border-radius: 10px;
      top: -8px;
      left: 10px;
    }
  }
  #rand-id-rv-section {
    display: none;
    position: fixed;
    top: 70px;
    right: 115px;
    width: 300px;
    height: fit-content;
    transition: all 1s;
    z-index: 999;
    background: #fff;
    box-shadow: 0 0 2px 0 rgb(137 143 148 / 80%);
    .ccc-rv-star {
      position: relative;
      width: fit-content;
      .cc-bg {
        display: flex;
      }
      .cc-star {
        display: flex;
        gap: 2px;
        color: #e3e3e3;
        .cc-star-icon {
          display: block;
          min-width: 13px;
          max-width: 13px;
        }
      }
      .cc-star-val {
        position: absolute;
        left: 0;
        top: 0;
        width: fit-content;
        overflow: hidden;
        .cc-star {
          color: #ffb647;
        }
      }
      .cc-rv-viewcount {
        position: absolute;
        left: 78px;
        top: -4px;
        display: block;
        min-width: 127px;
        font-size: 11px;
      }
    }
    .cc-rv-heading {
      text-align: center;
      background: #000000;
      color: #ffffff;
      font-size: 15px;
      padding: 5px 0;
      margin-bottom: 7px;
      .cc-head-arrow {
        position: absolute;
        top: -12px;
        width: 26px;
        right: 55px;
      }
      .cc-closed {
        position: absolute;
        right: 8px;
        top: 13px;
        cursor: pointer;
        img {
          width: 11px;
        }
      }
    }
    .cc-rv-sticky {
      position: absolute;
      top: 60%;
      left: -89px;
      background: #166fb0;
      color: #fff;
      font-size: 13px;
      font-weight: 500;
      text-decoration: none;
      padding: 10px 40px 10px 15px;
      transform: rotate(-90deg) translateY(-50%);
      cursor: pointer;
      text-transform: uppercase;
      img {
        width: 7px;
        transform: rotate(90deg);
        position: absolute;
        right: 20px;
        top: 12px;
      }
    }
    .cc-rvp-view-product {
      margin: 7px auto 0px;
      a {
        color: #fff;
        width: 100%;
        padding: 3px 5px 4px;
        font-size: 12px;
        text-decoration: none;
        text-align: center;
        font-weight: 600;
        background: #ea2e2b;
        outline: 0;
        box-shadow: none;
      }
      a:focus {
        outline: 0;
        box-shadow: none;
      }
    }
    .cc-rv-content {
      position: relative;
      display: block;
      padding-bottom: 0px;
      .swiper-container {
        max-height: 470px;
        overflow: hidden;
      }
      .swiper-wrapper {
        flex-direction: column;
        -webkit-box-orient: vertical;
        -webkit-box-direction: inherit;
      }
    }
    .cc-rvp-list {
      padding: 0;
      flex-shrink: 1;
      height: auto;
      margin-bottom: 0px;
      a:focus {
        outline: 0;
        box-shadow: none;
      }
      .cc-box-wrap {
        border: 2px solid #e7e2de;
        padding: 5px;
      }
      .cc-rv-product {
        position: relative;
        display: block;
        width: 100%;
        margin: 0 auto;
        float: none;
        outline: 0;
        padding: 0 8px;
        background: #fff;
        text-align: left;
      }
      a {
        display: block;
      }
      .cc-rvp-image {
        outline: 0;
        margin-right: 15px;
        img {
          width: 65px;
          height: 98px;
          outline: 0;
          border: 0;
          padding: 0;
        }
      }
      .cc-pro-wrap {
        display: flex;
      }
      .cc-rvp-title {
        a {
          display: block;
          font-size: 12px;
          font-weight: 600;
          color: #50323e;
          text-decoration: none;
          outline: 0;
          line-height: 1.4;
          text-align: left;
          overflow: hidden;
          padding-top: 3px;
          width: 165px;
        }
      }
      .ccc-rv-star {
        height: 20px;
        margin-top: 5px;
      }
      .cc-rvp-price {
        font-size: 12px;
        font-weight: 600;
        color: #b43131;
        padding: 5px 0px;
        .cc_was_price {
          display: block;
          color: #8a8a8a;
          text-decoration: line-through;
          font-size: 12px;
          line-height: 1;
        }
        .cc-sale {
          display: block;
          font-size: 15px;
          color: #ea2e2b;
        }
      }
      .cc-pri-off {
        display: flex;
        align-items: center;
        .cc-offer {
          color: #107e13;
          font-size: 13px;
          position: relative;
          left: 10px;
          top: 2px;
        }
      }
    }
    .cc-rv-arrows {
      display: none;
      position: absolute;
      cursor: pointer;
      opacity: 1;
      z-index: 99;
      outline: 0;
    }
    .cc-rv-prev {
      right: 115px;
      bottom: 10px;
      img {
        width: 25px;
      }
    }
    .cc-rv-next {
      bottom: 10px;
      left: 115px;
      img {
        width: 25px;
      }
    }
    .swiper-button-disabled {
      filter: grayscale(1);
      opacity: 0.5;
    }
  }
  @media screen and (max-width: 1280px) {
    #rand-id-rv-section {
      right: 65px;
    }
  }
  #launcher {
    right: 30px !important;
  }
  #rand-id-rv-section.cc-rvp-open {
    display: block !important;
  }
  #rand-id-rv-section.cc-less-product {
    .cc-rv-content {
      height: auto !important;
    }
  }
</style>
<script src="https://cdn.convertcart.com/uploads/01290877.js" defer></script>
<cc-snippet prepend-to='.header__action-list'>
  <div class="cc-rv-stick4582762">
    <div class="cc-rv-sticky">
      <button class="cc-recent">
        <img src="https://cdn.convertcart.com/uploads/c35ae546.svg" alt="recently viewed">
        <div class="cc-recent-count">0</div>
      </button>
    </div>
  </div>
</cc-snippet>
<cc-snippet prepend-to='.header__action-list'>
  <div id="rand-id-rv-section" class="cc-rv-section">

    <div class="cc-rv-arrows cc-rv-prev">
      <img src="https://cdn.convertcart.com/uploads/47480b19.svg" alt="previous">
    </div>
    <div class="cc-rv-content">
      <div class="cc-rv-heading">
        <img src="https://cdn.convertcart.com/uploads/40686fca.svg" class="cc-head-arrow">
        RecentlyViewed
        <span class="cc-closed">
          <img src="https://cdn.convertcart.com/uploads/6eceaeff.svg" alt="close">
        </span>
      </div>
      <div class="swiper-container">
        <div class="swiper-wrapper"></div>
      </div>
    </div>
    <div class="cc-rv-arrows cc-rv-next">
      <img src="https://cdn.convertcart.com/uploads/646dc7da.svg" alt="next">
    </div>
  </div>
</cc-snippet>
<cc-snippet name="ccRRVproduct">
  <div class="cc-rvp-list swiper-slide">
    <div class="cc-rv-product">
      <div class="cc-box-wrap">
        <div class="cc-pro-wrap">
        <div class="cc-rvp-image">
          <a class="cc-rvp-link" href="#">
            <img src="" />
          </a>
        </div>
        <div class="cc-content">
          <div class="cc-brand-name"></div>
          <div class="cc-rvp-title">
            <a class="cc-rvp-link" href="#"></a>
          </div>
          <div class="ccc-rv-star">
            <div class="cc-bg">

            </div>
            <div class="cc-star-val">

            </div>
          </div>
          <div class="cc-rvp-price product-price">
            <!-- <span class="cc_was_price">Cover price<span></span></span> -->
            <div class="cc-pri-off"><span class="cc-sale"></span> 
            <!-- <span class="cc-offer">You Save <span></span>%</span> -->
            </div>
          </div>
        </div>
        </div>
        <div class="cc-rvp-view-product">
          <a class="cc-rvp-link" href="#" data-title="ViewDetails">View Product</a>
        </div>
      </div>
     
      
    </div>
  </div>
</cc-snippet>
<script>
  var $ = require('zepto');
  const { ctx, randId, snippets } = campaign;
  const ccRsection = $(`#${randId}rv-section`);
  const ccRVPcontent = ccRsection.find('.cc-rv-content .swiper-wrapper');
  let ccproducts;
  $('body').addClass('ccRecent');
  function cctruncate(source, size) {
    return source.length > size ? source.slice(0, size - 1) + 'â€¦' : source;
  }
  function ccInitSlider() {
    new Swiper('.swiper-container', {
      slidesPerView: 3,
      spaceBetween: 0,
      centeredSlides: false,
      allowTouchMove: false,
      direction: 'vertical',
      autoHeight: false,
      navigation: {
        nextEl: '.cc-rv-next',
        prevEl: '.cc-rv-prev',
      },
      breakpoints: {
        1024: {
          slidesPerView: 3,
        },
      },
    });
  }
  const starSvg = `<span class="cc-star">
    <svg class="cc-star-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="M6.826 10.743l-3.28 1.724a.5.5 0 0 1-.725-.528l.627-3.65a.5.5 0 0 0-.144-.443L.65 5.26a.5.5 0 0 1 .277-.853l3.666-.533a.5.5 0 0 0 .377-.273L6.61.279a.5.5 0 0 1 .896 0L9.147 3.6a.5.5 0 0 0 .376.273l3.666.533a.5.5 0 0 1 .277.853l-2.653 2.586a.5.5 0 0 0-.144.442l.627 3.651a.5.5 0 0 1-.726.528l-3.279-1.724a.5.5 0 0 0-.465 0z"></path></svg>
    <svg class="cc-star-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="M6.826 10.743l-3.28 1.724a.5.5 0 0 1-.725-.528l.627-3.65a.5.5 0 0 0-.144-.443L.65 5.26a.5.5 0 0 1 .277-.853l3.666-.533a.5.5 0 0 0 .377-.273L6.61.279a.5.5 0 0 1 .896 0L9.147 3.6a.5.5 0 0 0 .376.273l3.666.533a.5.5 0 0 1 .277.853l-2.653 2.586a.5.5 0 0 0-.144.442l.627 3.651a.5.5 0 0 1-.726.528l-3.279-1.724a.5.5 0 0 0-.465 0z"></path></svg>
    <svg class="cc-star-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="M6.826 10.743l-3.28 1.724a.5.5 0 0 1-.725-.528l.627-3.65a.5.5 0 0 0-.144-.443L.65 5.26a.5.5 0 0 1 .277-.853l3.666-.533a.5.5 0 0 0 .377-.273L6.61.279a.5.5 0 0 1 .896 0L9.147 3.6a.5.5 0 0 0 .376.273l3.666.533a.5.5 0 0 1 .277.853l-2.653 2.586a.5.5 0 0 0-.144.442l.627 3.651a.5.5 0 0 1-.726.528l-3.279-1.724a.5.5 0 0 0-.465 0z"></path></svg>
    <svg class="cc-star-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="M6.826 10.743l-3.28 1.724a.5.5 0 0 1-.725-.528l.627-3.65a.5.5 0 0 0-.144-.443L.65 5.26a.5.5 0 0 1 .277-.853l3.666-.533a.5.5 0 0 0 .377-.273L6.61.279a.5.5 0 0 1 .896 0L9.147 3.6a.5.5 0 0 0 .376.273l3.666.533a.5.5 0 0 1 .277.853l-2.653 2.586a.5.5 0 0 0-.144.442l.627 3.651a.5.5 0 0 1-.726.528l-3.279-1.724a.5.5 0 0 0-.465 0z"></path></svg>
    <svg class="cc-star-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path fill="currentColor" d="M6.826 10.743l-3.28 1.724a.5.5 0 0 1-.725-.528l.627-3.65a.5.5 0 0 0-.144-.443L.65 5.26a.5.5 0 0 1 .277-.853l3.666-.533a.5.5 0 0 0 .377-.273L6.61.279a.5.5 0 0 1 .896 0L9.147 3.6a.5.5 0 0 0 .376.273l3.666.533a.5.5 0 0 1 .277.853l-2.653 2.586a.5.5 0 0 0-.144.442l.627 3.651a.5.5 0 0 1-.726.528l-3.279-1.724a.5.5 0 0 0-.465 0z"></path></svg>
  </span>`;
  function ccRVInit() {
    var ccCurrency;
    ccproducts.forEach((prod) => {
      const rv = $(snippets.ccRRVproduct);
      rv.attr('data-product_id', prod.field2);
      const ccurl = `${prod.url}`;
      const ccPrice = parseFloat(prod.price);
      const ccPri = ccPrice.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
      if (prod.field3.length) {
        const ccSingle = parseFloat(prod.field3);
        const ccSingle_Pri = ccSingle.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
      } else {
        rv.find('.cc-rvp-price .cc-sale').text(`${ccCurrency}${ccPri}`);
      }
      // const ccRealPrice = parseFloat(prod.field1);
      // const ccRealPri = ccRealPrice.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
      ccCurrency = '$';
      const api = `https://app.convertcart.com/v1/84591586/review/public/product?productId=${prod.field2}`;
      fetch(api).then(res => res.json()).then((res) => {
        if (res.overview.avgRating && res.overview.avgRating > 0) {
          const ccWidth = res.overview.avgRating * 20;
          rv.find('.ccc-rv-star .cc-bg').append(starSvg);
          rv.find('.ccc-rv-star .cc-star-val').append(starSvg);
          rv.find('.ccc-rv-star').append(`<div class="cc-rv-viewcount">(${res.overview.ratingCount} Reviews)</div>`);
          rv.find('.ccc-rv-star .cc-star-val').css('width', `${ccWidth}%`);
        }
      });
      // if (ccPri < ccRealPri) {
      //   rv.find('.cc-rvp-price .cc_was_price span').text(`${ccCurrency}${ccRealPri}`);
      //   let result = ((ccRealPri - ccPri) / ccRealPri) * 100;
      //   result = Math.round(result);
      //   rv.find('.cc-offer span').text(result)
      // } else {
      //   rv.find('.cc-rvp-price .cc_was_price').hide();
      //   rv.find('.cc-offer').hide();
      // }
      rv.find('.cc-rvp-image img').attr('src', prod.image);
      rv.find('.cc-rvp-title a').attr('href', ccurl).text(cctruncate(prod.name, 18));
      rv.find('.cc-rvp-link').attr('href', ccurl);
      rv.find('.cc-rvp-image a').on('click', function (e) {
        const ccLink = $(this).attr('href');
        e.preventDefault();
        campaign.trigger('Clicked.ProductImage');
        setTimeout(() => {
          window.location.href = ccLink;
        }, 1000);
      });
      rv.find('.cc-rvp-title a').on('click', function (e) {
        const ccLink = $(this).attr('href');
        e.preventDefault();
        campaign.trigger('Clicked.ProductName');
        setTimeout(() => {
          window.location.href = ccLink;
        }, 1000);
      });
      rv.find('.cc-rvp-view-product a').on('click', function (e) {
        const ccLink = $(this).attr('href');
        e.preventDefault();
        campaign.trigger('Clicked.ViewProduct');
        setTimeout(() => {
          window.location.href = ccLink;
        }, 1000);
      });
      rv.appendTo(ccRVPcontent);
    });
    if (ccproducts.length == 1) {
      ccRsection.addClass('cc-rv-one-product');
    } else {
      ccRsection.removeClass('cc-rv-one-product');
    }
    if (ccproducts.length == 2) {
      ccRsection.addClass('cc-two-product');
    } else {
      ccRsection.removeClass('cc-two-product');
    }
    if (ccproducts.length >= 3) {
      $('.cc-rv-arrows').css('display', 'block');
    }
  }
  ctx.ccart('get', 'productsViewed', (products) => {
    ccproducts = (products || []).slice(-10);
    ccproducts.reverse();
    ccRVInit();
    if (ccproducts.length > 0) {
      $('.cc-rv-stick4582762').show();
      $('.cc-rv-stick4582762 .cc-recent-count').text(ccproducts.length);
    }
    if (ccproducts.length == 0) ccRsection.hide();
  });

  ccRsection.find('.cc-rv-next').on('click', (e) => {
    e.preventDefault();
    campaign.trigger('Clicked.Next');
  });
  ccRsection.find('.cc-rv-prev').on('click', (e) => {
    e.preventDefault();
    campaign.trigger('Clicked.Previous');
  });
  $(document).on('click', (event) => {
    if (!$(event.target).closest('.cc-rv-section').length && !$(event.target).closest('.cc-rv-stick4582762').length) {
      if (ccRsection.hasClass('cc-rvp-open')) {
        ccRsection.removeClass('cc-rvp-open');
        $('body').removeClass('cc-rvp-active');
        campaign.trigger('clicked.minimized');
      }
    }
  });
  $('.cc-rv-stick4582762 .cc-recent').on('click', () => {
    if (ccRsection.hasClass('cc-rvp-open')) {
      ccRsection.removeClass('cc-rvp-open');
      $('body').removeClass('cc-rvp-active');
      campaign.trigger('clicked.minimized');
    } else {
      ccRsection.addClass('cc-rvp-open');
      campaign.trigger('clicked.maximized');
      $('body').addClass('cc-rvp-active');
      if (ccproducts.length > 3) {
        ccRsection.find('.cc-rv-content').css('paddingBottom', '45px');
        ccInitSlider();
      }
    }
  });
  $('.cc-rv-stick4582762 .cc-closed').on('click', () => {
    ccRsection.removeClass('cc-rvp-open');
    $('body').removeClass('cc-rvp-active');
    campaign.trigger('clicked.minimized');
  });
</script>